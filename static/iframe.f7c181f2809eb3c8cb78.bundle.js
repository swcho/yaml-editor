(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{427:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(488),u=n(701);n(702),window.MonacoEnvironment={getWorker:function(e,t){return console.log({workerId:e,label:t}),"yaml"===t?new u:null}};var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",o({},this.props,{ref:function(t){return e.root=t}}))},t.prototype.componentDidMount=function(){if(this.root){var e=this.props.options;this.editor=a.editor.create(this.root,o({language:"yaml"},e)),a.languages.yaml.yamlDefaults.setDiagnosticsOptions({validate:!0,schemas:[{uri:"https://raw.githubusercontent.com/garethr/kubernetes-json-schema/master/master/deployment.json",fileMatch:["*"]}]})}},t.prototype.getValue=function(){return this.editor.getValue()},t}(i.Component);t.YamlEditor=s},490:function(e,t,n){n(204),n(491),e.exports=n(492)},492:function(e,t,n){"use strict";n.r(t),function(e){var t=n(407);Object(t.configure)(function(){n(505)},e)}.call(this,n(410)(e))},505:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(407),i=n(506),a=n(427),u=n(707);o.storiesOf("Components",e).add("YamlEditor",i.withInfo({inline:!0})(function(){return r.createElement(a.YamlEditor,{style:{height:200}})})).add("GithubYamlEditor",i.withInfo({inline:!0})(function(){return r.createElement(u.GithubYamlEditor,{repoFullName:"swcho/ex_k8s",contentPath:"/kubia-rc.yaml"})}))}).call(this,n(104)(e))},509:function(e,t,n){var r={"./nestedObjectAssign":416,"./nestedObjectAssign.js":416};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=509},701:function(e,t,n){e.exports=function(){return new Worker(n.p+"49b3d9510b42fc78a994.worker.js")}},702:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(488),o=function(){function e(e,t){this._onDidChange=new r.Emitter,this._languageId=e,this.setDiagnosticsOptions(t)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e}();t.LanguageServiceDefaultsImpl=o;var i=new o("yaml",{validate:!0,schemas:[]});monaco.languages.yaml={yamlDefaults:i},monaco.languages.register({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"]}),monaco.languages.onLanguage("yaml",function(){!function(e){Promise.resolve().then(function(){return n(703)}).then(function(t){e(t)})}(function(e){return e.setupMode(i)})})},703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(704),o=n(705);t.setupMode=function(e){var t=[],n=new r.WorkerManager(e);t.push(n);var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.getLanguageServiceWorker.apply(n,e)},u=e.languageId;t.push(monaco.languages.registerCompletionItemProvider(u,new o.CompletionAdapter(a))),t.push(monaco.languages.registerHoverProvider(u,new o.HoverAdapter(a))),t.push(monaco.languages.registerDocumentSymbolProvider(u,new o.DocumentSymbolAdapter(a))),t.push(monaco.languages.registerDocumentFormattingEditProvider(u,new o.DocumentFormattingEditProvider(a))),t.push(monaco.languages.registerDocumentRangeFormattingEditProvider(u,new o.DocumentRangeFormattingEditProvider(a))),t.push(new o.DiagnosticsAdapter(u,a,e)),t.push(monaco.languages.setLanguageConfiguration(u,i))};var i={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:/:\s*$/,action:{indentAction:monaco.languages.IndentAction.Indent}}]}},704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=monaco.Promise,o=function(){function e(e){var t=this;this._defaults=e,this._worker=null,this._idleCheckInterval=setInterval(function(){return t._checkIfIdle()},3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(function(){return t._stopWorker()})}return e.prototype._stopWorker=function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null},e.prototype.dispose=function(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()},e.prototype._checkIfIdle=function(){this._worker&&(Date.now()-this._lastUsedTime>12e4&&this._stopWorker())},e.prototype._getClient=function(){return this._lastUsedTime=Date.now(),this._client||(this._worker=monaco.editor.createWebWorker({moduleId:"vs/language/yaml/yamlWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId}}),this._client=this._worker.getProxy()),this._client},e.prototype.getLanguageServiceWorker=function(){for(var e,t=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return function(e){var t,n,o=new r(function(e,r){t=e,n=r},function(){});return e.then(t,n),o}(this._getClient().then(function(t){e=t}).then(function(e){return t._worker.withSyncedResources(n)}).then(function(t){return e}))},e}();t.WorkerManager=o},705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(706),o=(monaco.Uri,monaco.Range),i=function(){function e(e,t,n){var r=this;this._languageId=e,this._worker=t,this._disposables=[],this._listener=Object.create(null);var o=function(e){var t,n=e.getModeId();n===r._languageId&&(r._listener[e.uri.toString()]=e.onDidChangeContent(function(){clearTimeout(t),t=setTimeout(function(){return r._doValidate(e.uri,n)},500)}),r._doValidate(e.uri,n))},i=function(e){monaco.editor.setModelMarkers(e,r._languageId,[]);var t=e.uri.toString(),n=r._listener[t];n&&(n.dispose(),delete r._listener[t])};this._disposables.push(monaco.editor.onDidCreateModel(o)),this._disposables.push(monaco.editor.onWillDisposeModel(function(e){i(e),r._resetSchema(e.uri)})),this._disposables.push(monaco.editor.onDidChangeModelLanguage(function(e){i(e.model),o(e.model),r._resetSchema(e.model.uri)})),this._disposables.push(n.onDidChange(function(e){monaco.editor.getModels().forEach(function(e){e.getModeId()===r._languageId&&(i(e),o(e))})})),this._disposables.push({dispose:function(){for(var e in monaco.editor.getModels().forEach(i),r._listener)r._listener[e].dispose()}}),monaco.editor.getModels().forEach(o)}return e.prototype.dispose=function(){this._disposables.forEach(function(e){return e&&e.dispose()}),this._disposables=[]},e.prototype._resetSchema=function(e){this._worker().then(function(t){t.resetSchema(e.toString())})},e.prototype._doValidate=function(e,t){this._worker(e).then(function(n){return n.doValidation(e.toString()).then(function(n){var o=n.map(function(e){return function(e,t){var n="number"==typeof t.code?String(t.code):t.code;return{severity:function(e){switch(e){case r.DiagnosticSeverity.Error:return monaco.MarkerSeverity.Error;case r.DiagnosticSeverity.Warning:return monaco.MarkerSeverity.Warning;case r.DiagnosticSeverity.Information:return monaco.MarkerSeverity.Info;case r.DiagnosticSeverity.Hint:return monaco.MarkerSeverity.Hint;default:return monaco.MarkerSeverity.Info}}(t.severity),startLineNumber:t.range.start.line+1,startColumn:t.range.start.character+1,endLineNumber:t.range.end.line+1,endColumn:t.range.end.character+1,message:t.message,code:n,source:t.source}}(0,e)}),i=monaco.editor.getModel(e);i.getModeId()===t&&monaco.editor.setModelMarkers(i,t,o)})}).then(void 0,function(e){console.error(e)})},e}();function a(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function u(e){if(e)return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function s(e){if(e)return new o(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function c(e){var t=monaco.languages.CompletionItemKind;switch(e){case r.CompletionItemKind.Text:return t.Text;case r.CompletionItemKind.Method:return t.Method;case r.CompletionItemKind.Function:return t.Function;case r.CompletionItemKind.Constructor:return t.Constructor;case r.CompletionItemKind.Field:return t.Field;case r.CompletionItemKind.Variable:return t.Variable;case r.CompletionItemKind.Class:return t.Class;case r.CompletionItemKind.Interface:return t.Interface;case r.CompletionItemKind.Module:return t.Module;case r.CompletionItemKind.Property:return t.Property;case r.CompletionItemKind.Unit:return t.Unit;case r.CompletionItemKind.Value:return t.Value;case r.CompletionItemKind.Enum:return t.Enum;case r.CompletionItemKind.Keyword:return t.Keyword;case r.CompletionItemKind.Snippet:return t.Snippet;case r.CompletionItemKind.Color:return t.Color;case r.CompletionItemKind.File:return t.File;case r.CompletionItemKind.Reference:return t.Reference}return t.Property}function l(e){if(e)return{range:s(e.range),text:e.newText}}t.DiagnosticsAdapter=i;var d=function(){function e(e){this._worker=e}return Object.defineProperty(e.prototype,"triggerCharacters",{get:function(){return[" ",":"]},enumerable:!0,configurable:!0}),e.prototype.provideCompletionItems=function(e,t,n){e.getWordUntilPosition(t);var o=e.uri;return y(n,this._worker(o).then(function(e){return e.doComplete(o.toString(),a(t))}).then(function(e){if(e){var t=e.items.map(function(e){var t={label:e.label,insertText:e.insertText,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,kind:c(e.kind)};return e.textEdit&&(t.range=s(e.textEdit.range),t.insertText=e.textEdit.newText),e.insertTextFormat===r.InsertTextFormat.Snippet&&(t.insertText={value:t.insertText}),t});return{isIncomplete:e.isIncomplete,items:t}}}))},e}();function p(e){return"string"==typeof e?{value:e}:function(e){return e&&"object"==typeof e&&"string"==typeof e.kind}(e)?"plaintext"===e.kind?{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:e.value}:{value:"```"+e.language+"\n"+e.value+"\n```\n"}}t.CompletionAdapter=d;var f=function(){function e(e){this._worker=e}return e.prototype.provideHover=function(e,t,n){var r=e.uri;return y(n,this._worker(r).then(function(e){return e.doHover(r.toString(),a(t))}).then(function(e){if(e)return{range:s(e.range),contents:function(e){if(e)return Array.isArray(e)?e.map(p):[p(e)]}(e.contents)}}))},e}();t.HoverAdapter=f;var m=function(){function e(e){this._worker=e}return e.prototype.provideDocumentSymbols=function(e,t){var n=e.uri;return y(t,this._worker(n).then(function(e){return e.findDocumentSymbols(n.toString())}).then(function(e){if(e)return e.map(function(e){return{name:e.name,detail:"",containerName:e.containerName,kind:function(e){var t=monaco.languages.SymbolKind;switch(e){case r.SymbolKind.File:return t.Array;case r.SymbolKind.Module:return t.Module;case r.SymbolKind.Namespace:return t.Namespace;case r.SymbolKind.Package:return t.Package;case r.SymbolKind.Class:return t.Class;case r.SymbolKind.Method:return t.Method;case r.SymbolKind.Property:return t.Property;case r.SymbolKind.Field:return t.Field;case r.SymbolKind.Constructor:return t.Constructor;case r.SymbolKind.Enum:return t.Enum;case r.SymbolKind.Interface:return t.Interface;case r.SymbolKind.Function:return t.Function;case r.SymbolKind.Variable:return t.Variable;case r.SymbolKind.Constant:return t.Constant;case r.SymbolKind.String:return t.String;case r.SymbolKind.Number:return t.Number;case r.SymbolKind.Boolean:return t.Boolean;case r.SymbolKind.Array:return t.Array}return t.Function}(e.kind),range:s(e.location.range),selectionRange:s(e.location.range)}})}))},e}();function h(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}t.DocumentSymbolAdapter=m;var g=function(){function e(e){this._worker=e}return e.prototype.provideDocumentFormattingEdits=function(e,t,n){var r=e.uri;return y(n,this._worker(r).then(function(e){return e.format(r.toString(),null,h(t)).then(function(e){if(e&&0!==e.length)return e.map(l)})}))},e}();t.DocumentFormattingEditProvider=g;var v=function(){function e(e){this._worker=e}return e.prototype.provideDocumentRangeFormattingEdits=function(e,t,n,r){var o=e.uri;return y(r,this._worker(o).then(function(e){return e.format(o.toString(),u(t),h(n)).then(function(e){if(e&&0!==e.length)return e.map(l)})}))},e}();function y(e,t){return t.cancel&&e.onCancellationRequested(function(){return t.cancel()}),t}t.DocumentRangeFormattingEditProvider=v},707:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),u=n(427),s=n(708);var c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={token:localStorage.getItem("token"),content:null},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.token,r=t.content;return console.log(r),a.createElement("div",null,a.createElement("p",null,"Token:",a.createElement("input",{type:"text",value:n||"",onChange:function(t){var n=t.target.value;localStorage.setItem("token",n),e.setState({token:n})}})),r&&a.createElement(u.YamlEditor,{ref:function(t){return e.editor=t},style:{height:200},options:{value:atob(r.content)}}),a.createElement("button",{onClick:function(){return o(e,void 0,void 0,function(){var e,t,o,a,u;return i(this,function(i){return this.editor&&r&&n&&(e=this.editor.getValue(),t=this.props,o=t.repoFullName,a=t.contentPath,u=r.sha,s.githubApi({token:n}).repos(o).contents(a).update({sha:u,message:"From YamlEditor",content:btoa(e)})),[2]})})}},"Update"))},t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,n,r,o;return i(this,function(i){switch(i.label){case 0:return e=this.props,t=e.repoFullName,n=e.contentPath,(r=this.state.token)?[4,s.githubApi({token:r}).repos(t).contents(n).get()]:[3,2];case 1:o=i.sent(),this.setState({content:o}),i.label=2;case 2:return[2]}})})},t}(a.Component);t.GithubYamlEditor=c},708:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(709),i="",a="",u="https://github.com";t.getAuthorizeUrl=function(e){return u+"/login/oauth/authorize?client_id="+i+"&client_secret="+a+"&type=user_agent&redirect_uri="+encodeURIComponent(e)},t.getAccessToken=function(e,t){return u+"/login/oauth/access_token?client_id="+i+"&client_secret="+a+"&type=user_agent&&code="+e+"&redirect_uri="+encodeURIComponent(t)};var s=function(e,t){var n=e+"/repos";return function(e){var i=n+"/"+e;return{trees:function(e,t){var n=e+"/trees";return function(e){var r=n+"/"+e;return o.default.get(r,t).then(function(e){return e.data})}}(i,t),contents:function(e,t){var n=e+"/contents";return function(e){var i=""+n+e;return{get:function(){return o.default.get(i,t).then(function(e){return e.data})},create:function(e){return o.default.put(i,e,t).then(function(e){return e.data})},update:function(e){return o.default.put(i,e,t).then(function(e){return e.data})},del:function(e){return o.default.delete(i,r({},t,{data:e})).then(function(e){return e.data})}}}}(i,t)}}};t.githubApi=function(e){var t=e.baseUrl,n=void 0===t?"https://api.github.com":t,r=e.token;return{repos:s(n,{headers:{Authorization:"token "+r}})}}}},[[490,3,2]]]);
//# sourceMappingURL=iframe.f7c181f2809eb3c8cb78.bundle.js.map